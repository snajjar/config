import { $, env, UIComponent } from '@dualbox/dualbox';
var pkgDesc = require('../package.json');

class DisplayNumber extends UIComponent {
    constructor(pkgDesc, appDesc, options) {
        super(pkgDesc, appDesc, options)
    }

    hide(){
        $(this.div).hide();
    }

    show(){
        $(this.div).show();
    }

    onReady() {
        $(this.div).text(
            this.attr.prefix +
            (this.attr.round ? Math.round(this.inputValue["n"]) : this.inputValue["n"]) + this.attr.suffix);

        this.trigger({});
    }

    static attachTo(appDesc, attrs, div) {
        // build slider from package.json desc
        var dt = new DisplayNumber(pkgDesc, appDesc, attrs);
        dt.div = $('<span id="'+appDesc.id+'" />', {class:"dualbox"});

        $(dt.div).text( dt.attr.prefix + dt.attr.value + dt.attr.suffix);

        // append to param div and return the slider
        $(div).append(dt.div);
        return dt;
    }
}

module.exports = DisplayNumber;
