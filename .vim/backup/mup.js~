module.exports = {
    app: {
        // Tells mup that the AWS Beanstalk plugin will manage the app
        type: 'aws-beanstalk',
        name: 'dualbox-beta',
        path: '../../app',
        env: {
            ROOT_URL: 'https://beta.dualbox.com',
            MONGO_URL: 'mongodb://web1:mongoptl32@ds131456-a0.mlab.com:31456,ds131456-a1.mlab.com:31456/dualbox?replicaSet=rs-ds131456&readPreference=primaryPreferred',
            MONGO_OPLOG_URL: 'mongodb://oplog:oplogptl32@ds131456-a0.mlab.com:31456,ds131456-a1.mlab.com:31456/local?replicaSet=rs-ds131456&authSource=admin',
            MAIL_URL: "smtp://1ae6a5417aed9032d36d9bcb2dbafb42:5d819c7cbb83baf37a8b9db866a043a9@in-v3.mailjet.com:587"
        },
        auth: {
            id: 'AKIAIHHBVAEUFVW5GJWA',
            secret: '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'
        },

        // (optional, default is t2.micro) Type of instance to use
        instanceType: 't2.micro',

        // (optional) Array of domains to request an ssl certificate for
        sslDomains: ['beta.dualbox.com'],

        // (optional) Redirect http to https
        forceSSL: true,

        // (optional, default is us-east-1) AWS region to deploy to
        region: 'eu-central-1',

        longEnvVars: true,

        minInstances: 1,
        maxInstances: 3,

        docker: {
            "image": "abernix/meteord:node-8.9.3-base",
            "args": [
              "--link=mongodb:mongodb"
            ]
        },

        // (optional) Override or add options in the beanstalk config
        // this plugin creates.You can customize any option on:
        // https://docs.aws.amazon.com/elasticbeanstalk/latest/dg/command-options-general.html
        customBeanstalkConfig: [
            {
                namespace: 'aws:elasticbeanstalk:container:nodejs',
                option: 'NodeVersion',
                value: '8.9.3'
            },
        ]
    },
    plugins: ['mup-aws-beanstalk']
};

