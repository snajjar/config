import { $, env, Widget3D, Type } from '@dualbox/dualbox';
import { SphereBufferGeometry, BufferTriGeometry, BufferGeometry, Geometry, Mesh, MeshBasicMaterial, Object3D, Segment3, Vector3} from '@dualbox/dualbox-lib-xthree';
var pkgDesc = require('../package.json');

var DualboxTypesAll3D = require('@dualbox/dualbox-type-all3d');

var specialBindings = {
    events:[],
    slide:[],
};
var sceneCube;
var textureCube, textureSphere;
var cubeMesh;
/**
*  Widget to set the background of an app with a cube map for pre-visualisation
*/
class Widget3DCubemapBackground extends Widget3D {
    constructor(pkgDesc, appDesc, options) {
        super(pkgDesc, appDesc, options);
    }

    init3D(){
        this.canvas3d.setBackground(null);
    }

    // API Function
    runCubemapBackground(){
        this.canvas3d.setBackground(this.inputValue.cubetexture);
    }

    onReady() {
        this.runCubemapBackground();

        // We're done, trigger all UI events
        this.trigger({});
    }

    static attachTo(appDesc, attrs, div) {
        var dt = new Widget3DCubemapBackground(pkgDesc, appDesc, attrs);
        return dt;
    }
}

module.exports = Widget3DCubemapBackground;
